##内容

- 路由的基础知识

- 子路由、保护路由和辅助路由

- 在在线拍卖（Auction）项目中添加路由



##路由基础知识

![](/assets/360截图20178018195933485.jpg)

![](/assets/360截图20171018200436473.jpg)


new route --routing

在app目录下多生成一个app-routing.module.ts


![](/assets/360截图20171019093007537.jpg)

不能用斜线开头，在多个视图间导航时，可以自由的使用相对路径绝对路径。

`<router-outlet></router-outlet>`路由插座，显示导航的信息。


![](/assets/360截图20171019094006842.jpg)

用斜线开头，数组可以方便传参


####router对象来导航

![](/assets/360截图20171019095232439.jpg)

![](/assets/360截图20171019095219455.jpg)



![](/assets/360截图20171019095933637.jpg)

具体的路由放前边，通配符路由放最后边





##在路由时传递数据

- 在查询参数中传递数据

![](/assets/360截图20171019100608600.jpg)

![](/assets/360截图20171019102816392.jpg)

![](/assets/360截图20171019102617090.jpg)

- 在路由路径中传递数据

![](/assets/360截图20171019100658352.jpg)

![](/assets/360截图20171019104614129.jpg)

![](/assets/360截图20171019104644253.jpg)

![](/assets/360截图20171019104544697.jpg)

- 在路由配置中传递参数

![](/assets/360截图20171019100743097.jpg)


####参数订阅和参数快照

- 参数快照

组件创建一次不会再创建，productId保持不变
`this.productId = this.routeInfo.snapshot.params["id"];`

组件创建一次不会再创建，productId保持不变

- 参数订阅

![](/assets/360截图20171019111344147.jpg)




##重定向路由

在用户访问一个特定的地址时，将其重定向到另一个制定的地址。

![](/assets/360截图20171019112101497.jpg)

![](/assets/360截图20171019112606784.jpg)



##子路由

![](/assets/360截图20171019112845942.jpg)


![](/assets/360截图20171019132005346.jpg)

路由配置和页面`[routerLink]="['./seller', 99]"`

![](/assets/360截图20171019135227514.jpg)

![](/assets/360截图20171019135207178.jpg)




##辅助路由三步

![](/assets/360截图20171019140519276.jpg)

![](/assets/360截图20171019135941839.jpg)

主路由只有一个插座，辅助路由可以有多个插座

![](/assets/360截图20171019144607643.jpg)

没定义的会报错，没定义的会报错，没定义的会报错

![](/assets/360截图20171019153136431.jpg)

![](/assets/360截图20171019153204079.jpg)


当希望跳转辅助路由的同时主路由跳转到指定的组件的时候：

![](/assets/360截图20171019154840318.jpg)



##路由守卫

路由守卫是指当用户满足了某些要求之后才可以离开或者进入某个页面或者场景的时候使用。比如说只有当**用户填写了用户名和密码之后**才可以进入首页，比如说用户离开某个页面时没有保存信息，**提示用户是否保存信息**后再离开等操作，控制这些要求的就叫路由守卫。

![](/assets/360sdf20171019155447997.jpg)

activate    vt.    使活动，起动，触发; 使开始作用;

- canActivate

![](/assets/360截图20171019163821020.jpg)

![](/assets/360截图20171019182201744.jpg)

- canDeactivate

![](/assets/360截图20171019182349519.jpg)

![](/assets/360截图20171019182231904.jpg)


- resolve守卫

