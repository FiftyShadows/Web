#异步和单线程




##同步和异步的区别是什么？分别举一个同步和异步的例子

- 同步会阻塞代码执行，异步不会

- alert是同步,setTimeout是异步


##一个关于setTimeout的笔试题

![](/assets/360截图20170929054936843.jpg)

13524


##前端使用异步的场景有哪些




##知识点

###什么是异步（对比同步）

```console.log(100);
setTimeout(function (){
    console.log(200);
},1000)
console.log(300);
```

```
console.log(100);
alert(200);    //1秒钟后点击确认
console.log(300);
```



####何时需要异步

- 在可能发生等待的情况

- 等待过程中不能像alert一样阻塞程序执行

- 因此，所以“等待的情况”都需要异步



###前端使用异步的场景

- 定时任务： setTimeout, setInterval


- 网络请求： ajax请求， 动态`<img>`加载

```
console.log('start');
$.get('./data1.json',function (data){
    console.log(data);
});
console.log('end');
```

```
console.log('start');
var img = document.createElement('img');
img.onload = function (){
    console.log('loaded');
}
img.src = './xxx.png';
console.log('end');
```


- 事件绑定




###异步和单线程

```
console.log(100);
setTimeout(function(){
    console.log(200);
});
console.log(300);
```





##题目

- 获取2017-06-10格式的日期

- 获取随机数，要求长度是一致的字符串格式

- 写一个能遍历对象和数组的通用forEach函数



###日期

```
Date.now();    //获取当前时间毫秒数
var dt = new Date();
dt.getTime();        //获取毫秒数
dt.getFullYear();    //年
dt.getMonth();    //月（0-11）
dt.getDate();        //日（0-31）
dt.getHours();        //小时（0-23）
dt.getMinutes();        //分钟（0-59）
dt.getSeconds();        //秒（0-59）
```
日期需要加1


###Math

Math.random();


###数组API

- forEach遍历所有元素

```
var arr = [1,2,3];
arr.forEach(function (item, index){
    console.log(index, item);
});
```


- every判断所有元素是否都符合条件

```
var arr = [1,2,3];
var result = arr.every(function (item, index){
    if(item<4){
        return true;
    }
});
console.log(result);    //true
```


- some判断是否有至少一个元素符合条件

- sort排序

- map对元素重新组装，生成新数组

- filter过滤符合条件的元素




###对象API（for in）

```
var obj = {
    x:100,
    y:200,
    z:300
};
var key;
for(key in obj){
    if(obj.hasOwnProperty(key)){
        console.log(key,obj[key]);
    }
}
```

hasOwnProperty：是用来判断一个对象是否有你给出名称的属性或对象。不过需要注意的是，此方法无法检查该对象的原型链中是否具有该属性，该属性必须是对象本身的一个成员。










































